<!DOCTYPE html>
<!--[if lt IE 7]>
<html lang="en" class="lt-ie9 lt-ie8 lt-ie7"><![endif]-->
<!--[if IE 7]>
<html lang="en" class="lt-ie9 lt-ie8"><![endif]-->
<!--[if IE 8]>
<html lang="en" class="lt-ie9"><![endif]-->
<!--[if gt IE 8]><!-->
<html lang="en">
<!--<![endif]-->

<head>
    <meta charset="utf-8" />
    <title>Project title</title>
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="author" content="" />
    <meta name="copyright" content="(c)">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="format-detection" content="address=no" />
    <meta name="HandheldFriendly" content="True" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="shortcut icon" href="" type="image/x-icon">
    <!-- <link href="img/favicon.ico" rel="shortcut icon" type="image/x-icon">
    <link href="favicon.ico" rel="icon" type="image/vnd.microsoft.icon"> -->
    <!-- <link rel="stylesheet" type="text/css" href="components/fancybox/jquery.fancybox.css"> -->
    <link rel="stylesheet" type="text/css" href="components/fancybox/jquery.fancybox3.css">
    <!-- <link rel="stylesheet" type="text/css" href="components/textpreview/magicsuggest.css"> -->
    <link rel="stylesheet" href="assets/css/main.css" />
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,800" rel="stylesheet">
</head>

<body style="background: #f8f8f8;">
    <div class="global_wrapper settings">
        <!-- Begin navigation -->
        <nav>
            <div class="menu-block cf">
                <div class="image">
                    <img src="images/logotype.svg" width="30" alt="">
                </div>
                <div class="h1-head">
                    <a href="index.html">Rent Application</a>
                </div>
                <div class="title">
                    <h2>Settings</h2>
                </div>
                <a id="touch-menu" class="mobile-menu" href="#">
                    <div class="square">
                        <div class="line"></div>
                    </div>
                </a>
                <ul class="menu fullscreen">
                    <li>
                        <a href="#">
                            <p>Dashboard</p>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <p>Payments</p>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <p>Help</p>
                        </a>
                    </li>
                    <li class="profile">
                        <a href="#">
                            <img src="images/profile.svg" width="27" class="profile-image" alt="">
                            <p class="profile-name">johnsmith@email.com</p>
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="#">Landlord Dashboard</a>
                            </li>
                            <li>
                                <a href="#">Switch to Applicant Dashboard</a>
                            </li>
                            <li>
                                <a href="#">Settings</a>
                            </li>
                            <li>
                                <a href="#">Logout</a>
                            </li>
                        </ul>
                    </li>
                </ul>
                <ul class="menu dropmobile">
                    <li><a href="#">Landlord Dashboard</a></li>
                    <li><a href="#">Switch to Applicant Dashboard</a></li>
                    <li><a href="#">My Payments</a></li>
                    <li><a href="#">Help</a></li>
                    <li><a href="#">Settings</a></li>
                    <li><a href="#">Logout</a></li>
                </ul>
            </div>
        </nav>
        <!-- End navigation -->
        <!-- Begin wrapper-main -->
        <div class="wrapper-main">
            <div id="sticky" class="sticky-element">
                <div class="sticky-anchor"></div>
                <div class="sticky-content">
                    <div class="row">
                        <ul class="bottom-menu">
                            <li class="profile-button sett-button active">
                                <p>Profile</p>
                            </li>
                            <li class="notifications-button sett-button">
                                <p>Notifications</p>
                            </li>
                            <li class="password-button sett-button">
                                <p>Password</p>
                            </li>
                        </ul>
                        <div class="landrow">
                            <p>Settings</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="prof-padding prof">
                <div class="profile-success">
                    <p>Profile settings successfully updated.</p>
                    <a class="close-butt"></a>
                </div>
            </div>
            <div class="prof-padding notif">
                <div class="profile-success">
                    <p>Notification Preferences successfully updated.</p>
                    <a class="close-butt"></a>
                </div>
            </div>
            <div class="prof-padding passw">
                <div class="profile-success">
                    <p>Password settings successfully updated.</p>
                    <a class="close-butt"></a>
                </div>
            </div>
            <div class="content">
                <div class="profile-content profile active">
                    <h2>Profile Information</h2>
                    <p>This information is optional and will be displayed to applicants as contact information</p>
                    <form action="#" method="#" runat="server" id="form1">
                        <h4>Name</h4>
                        <input type="text">
                        <h4>Email Address</h4>
                        <input type="text">
                        <h4>Website</h4>
                        <input type="text">
                        <h4>Company Name</h4>
                        <input type="text">
                        <h4>Phone Number</h4>
                        <input type="text">
                        <div class="logotype">
                        <h4>Logo</h4>
                            <div class="filebox bs3-primary preview-image">
                                <div class="fll">
                                    <input type="file" id="input_file" class="upload-hidden">
                                </div>
                                <div class="flr">
                                    <h4>Upload a logo…</h4>
                                    <p>Logo must be .png, .svg, .jpeg, or .gif format and should not exceed 50MB</p>
                                    <label for="input_file">Upload</label>
                                    <a class="deletelogo">delete</a>
                                </div>
                            </div>
                        </div>
                        <div class="cf"></div>
                        <input type="submit" value="Save and Update">
                    </form>
                </div>
                <div class="profile-content notifications">
                    <div class="fullwidth">
                        <h2>Notification Preferences</h2>
                        <h3>Additional Email Recipients
                            <a href="#popup1" class="fancybox-modal tooltip2"></a>
                        </h3>
                        <p class="info">Your primary user email address will receive all notifications automatically, however if there are others in your office or company who would like to receive the emails as well, please enter their email address below.</p>
                        <form action="#" method="#" runat="server" id="form2">
                            <!-- <textarea></textarea> -->
                            <div id="boxTags">
                                <input type="hidden" id="hiddenTags"/>
                                <ul id="ulTags" style="clear:both;">
                                    <li id="newTagInput"><input type="text" id="inputTag"/></li>
                                </ul>
                                <div style="clear:both;"></div>
                            </div>
                            <h3>Send me a notification email when:</h3>
                            <div class="cf"></div>
                            <div class="check">
                                <input type="checkbox" id="checkbox-1">
                                <div class="text">
                                    <label for="checkbox-1"><span>ALL</span> of the reports for an application that was submitted to me are ready</label>
                                </div>
                                <div class="cf"></div>
                                <div class="line"></div>
                            </div>
                            <div class="check">
                                <input type="checkbox" id="checkbox-2">
                                <div class="text">
                                    <label for="checkbox-2"><span>ANY</span> report for an application that was submitted to me is ready</label>
                                </div>
                                <div class="cf"></div>
                                <div class="line"></div>
                            </div>
                            <div class="check">
                                <input type="checkbox" id="checkbox-3">
                                <div class="text">
                                    <label for="checkbox-3">An application is submitted to me (whether or not screening reports are ready)</label>
                                </div>
                                <div class="cf"></div>
                                <div class="line"></div>
                            </div>
                            <input type="submit" value="Update Preferences">
                        </form>
                    </div>
                </div>
                <div class="profile-content password">
                    <h2>Change Password</h2>
                    <form action="" method="">
                        <h3>Current Password</h3>
                        <input type="password">
                        <h3>New Password</h3>
                        <input type="password">
                        <h3>Confirm New Password</h3>
                        <div class="field">
                            <input type='password' class="password-input" name='password' pattern='^(?=.*[A-Z])(?=.*[0-9])(?=.*[a-z]).{9,}$' required>
                            <ul class='apply-field__rules'>
                                <li class="val1">One lowercase character</li>
                                <li class="val2">One uppercase character</li>
                                <li class="val3">One number</li>
                                <li class="val4">8 characters minimum</li>
                            </ul>
                        </div>
                        <input type="submit" value="Update Password">
                    </form>
                </div>
            </div>
        </div>
        <div id="popup1" class="popup view-pop" style="display: none;">
            <p class="info">Your primary user email address will receive all notifications automatically, however if there are others in your office or company who would like to receive the emails as well, please enter their email address below.</p>
        </div>
    </div>
    <!--[if lt IE 9]>
<script src="components/html5shiv/es5-shim.min.js"></script>
<script src="components/html5shiv/html5shiv.min.js"></script>
<script src="components/html5shiv/html5shiv-printshiv.min.js"></script>
<script src="components/respond/respond.min.js"></script>
<![endif]-->
    <!-- Load Scripts -->
    <script src="components/modernizr/modernizr.js" type="text/javascript"></script>
    <script src="components/jquery/jquery.min.js" type="text/javascript"></script>
    <script src="components/formstyler/jquery.formstyler2.js" type="text/javascript"></script>
    <script src="components/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>
    <script src="components/fancybox/jquery.fancybox.pack2.js" type="text/javascript"></script>
    <script src="components/imagepreview/preview.js" type="text/javascript"></script>
    <script src="components/forms/forms.js" type="text/javascript"></script>
    <script src="components/forms/jquery.validate.min.js" type="text/javascript"></script>
    <!-- <script src="components/textpreview/magicsuggest.js" type="text/javascript"></script> -->
    <script src="assets/js/common.js" type="text/javascript"></script>
    <script>
        $(':password').on('input', onPasswordInput);
        // Callbacks
        function onPasswordInput(e) {
          var $input = $(this),
            value = this.value,
            $rulesItems = $input.closest('.field').find('.apply-field__rules').find('li'),
            rules = {
              "one lowercase character": /[a-z]/,
              "one uppercase character": /[A-Z]/,
              "one number": /[0-9]/,
              "8 characters minimum": /.{8,}/
            };

          // mark the input field if it has any value
          this.classList.toggle('hasValue', this.value);

          // itterate all the rules and validate them
          $rulesItems.each((i, elm) => {
            var valid,
              ruleName = elm.innerText.toLowerCase();

            console.log(rules, ruleName);
            if (rules[ruleName]) {
              valid = new RegExp(rules[ruleName]).test(value);
              elm.classList.toggle('active', valid);
            }
          });
        }
    </script>
    <script type="text/javascript">
    var arrayTags = [""];
    var index = 0;

    function removeByValue(arr, val) {
        for(var i=0; i<arr.length; i++) {
            if(arr[i] == val) {
                arr.splice(i, 1);
                break;
            }
        }
        index--;
    }

    function removeTag(el) {
        tag = $(el).prev().html();
        $("#tag-"+tag).remove();
        removeByValue(arrayTags, tag);
        $("#inputTag").focus();
    }

    $(document).ready(function() {
        var inputWidth = 16;

        function insertTag(tag) {
            var liEl = '<li id="tag-'+tag+'" class="li_tags">'+
                        '<span href="javascript://" class="a_tag">'+tag+'</span>&nbsp;'+
                        '<a href="" onclick="removeTag(this); return false;"'+
                        ' class="del" id="del_'+tag+'">&times;</strong></a>'+
                        '</li>';
            return liEl;
        }

        $("#inputTag").focus().val("");
        $("#hiddenTags").val("");

        $("#inputTag").keydown(function(event) {
            var textVal = jQuery.trim($(this).val()).toLowerCase();
            var keyCode = event.which;

            // Сдвигаемся влево (нажата клавиша влево)
            if (keyCode == 37 && textVal == '') {
                $("#newTagInput").insertBefore($("#newTagInput").prev());
                $("#inputTag").focus();
            }

            // Сдвигаемся вправо (нажата клавиша вправо)
            if (keyCode == 39 && textVal == '') {
                $("#newTagInput").insertAfter($("#newTagInput").next());
                $("#inputTag").focus();
            }

            // Удаляем предыдущую метку (нажата клавиша backspace)
            if (keyCode == 8 && textVal == '') {
                deletedTag = $("#newTagInput").prev().find(".a_tag").html();
                removeByValue(arrayTags, deletedTag);
                $("#newTagInput").prev().remove();
                $("#inputTag").focus();
            }

            // Удалаяем следующую закладку (нажата клавиша delete)
            if (keyCode == 46 && textVal == '') {
                deletedTag = $("#newTagInput").next().find(".a_tag").html();
                removeByValue(arrayTags, deletedTag);
                $("#newTagInput").next().remove();
                $("#inputTag").focus();
            }

            if ((47 < keyCode && keyCode < 106) || (keyCode == 32)) {

                if (keyCode != 32) {
                    // Пользователь вводит метку
                    inputWidth = inputWidth + 7;
                    $(this).attr("style", "width:"+inputWidth+"px");
                    $("#newTagInput").attr("style", "width:"+inputWidth+"px");
                } else if (keyCode == 32 && (textVal != '')) {
                    // Пользователь создает новую метку
                    var isExist = jQuery.inArray(textVal, arrayTags);

                    if (isExist == -1) {
                        // Вставить новую метку (видимую пользователю)
                        $(insertTag(textVal)).insertBefore("#newTagInput");

                        // Вставить новую метку  в массив JavaScript
                        arrayTags[index] = textVal;
                        index++;
                    }
                    inputWidth = 16;
                    $(this).attr("style", "width:"+inputWidth+"px");
                    $("#newTagInput").attr("style", "width:23px")
                    $(this).val("");
                } else {
                    $(this).val("");
                }
                console.log(arrayTags, arrayTags.length);
            }
        });
    });
    </script>

</body>

</html>